<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org">
<head th:replace="views/layouts/plantilla.html :: head"></head>
<body class="header-color mt-24">
	<main class="w-full h-full text-center flex flex-col gap-2 justify-items-center">
		<div class="flex flex-row justify-center justify-items-center items-center">
			<div class="w-[20%]">
			<img src="../../../img/BidBay-Logo-New.png" alt="LOGO" class="">
			</div>
		</div>
		<div class="flex flex-col text-center gap-2">
			<h1 class="text-3xl text-white font-semibold">Bienvenido de vuelta!</h1>
			<h2 id="errorMsg" th:text="${error}" class="text-white text-mb mt-2"></h2>
			<div th:if="${param.error}"></div>
			<div th:if="${param.logout}">Has sido desconectado.</div>
		</div>
		<form id="login-form" th:action="@{login}" method="post" class="formulario w-[750px] sombra-2 flex flex-col gap-4" onsubmit="return validarFormulario();">
			<div class="w-full flex flex-col gap-2">
				<div class="formulario-div">
					<label for="username">Nombre de usuario</label>
					<input type="text" name="username" placeholder="Usuario"/>
				</div>
				<div class="formulario-div">
					<label for="password">Contraseña</label>
					<input type="password" name="password" placeholder="Contraseña" />
				</div>
				<div class="mt-3">
					<input type="submit" value="Log in" name="enviar" class="bg-blue-500 hover:bg-blue-700 p-2 text-white font-bold rounded w-100 boton-submit" />
				</div>
			</div>
		</form>
		<div class="text-center mt-4">
			<p class="text-white text-mb">Si es la primera vez que nos visitas..</p>
			<a th:href="@{usuario/agregar}" class="text-blue-500 mb-4 font-bold text-lg hover:scale-100 ">Registrar Usuario</a>
		</div>
	</main>
</body>
<script>
function  validarFormulario(){
	 var form = document.forms.namedItem('login-form');
	 var respuesta=true;
	 var errorMessages = document.getElementById('errorMsg');
	 	errorMessages.innerHTML ="";
	 const data = {
   username: form.elements.namedItem('username').value,
   password: form.elements.namedItem('password').value,
   };
		 
	 errorMessages.innerHTML ="";
		 
	 
	 if(data.username === "" || data.password === ""){
		 errorMessages.innerHTML = "Llena todos los campos" ;
			return false;
	 }

   	
   
	return true;
}
</script>
</html>
