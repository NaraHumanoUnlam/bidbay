<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="views/layouts/plantilla.html :: head"></head>

<body class="">

<header th:replace="views/layouts/plantilla.html :: header"></header>

<main class="flex justify-center items-center flex-col">
		<h1 th:text="${titulo}" class="text-3xl mb-10"></h1>
		<form th:action="@{/producto/listar}" th:if="${rol != 'Moderador'}">
			
				<input name="search" type="text" placeholder="Buscar">
				<input type="submit" value="Buscar" class="btn btn-secondary text-light">
		</form>
		<form th:action="@{/moderador/productos}" th:if="${rol == 'Moderador'}">
			
				<input name="search" type="text" placeholder="Buscar">
				<input type="submit" value="Buscar" class="btn btn-secondary text-light">
		</form>
		
			<p th:if="${inputValue != null}" th:text="'Resultado de buscar: ' + ${inputValue}"></p>
			<a th:if="${rol != 'Moderador'}" class="btn btn-secondary text-light" th:text="Volver" th:href="@{/producto/listar}"></a>
			<a th:if="${rol == 'Moderador'}" class="btn btn-secondary text-light" th:text="Volver" th:href="@{/moderador/productos}"></a>
			<br>

				<p  th:if="${rol != 'Moderador'}">
					<a class="btn btn-secondary text-light"
					th:href="@{/producto/form}">Agregar Producto</a>
				</p>
		
			<div>
				<h4>Ordenar: </h4>
				<div th:if="${rol != 'Moderador'}">
					<a class="btn btn-secondary text-light" th:href="@{/producto/listar?order=asc}"><b>Ascendente</b></a>
					<a class="btn btn-secondary text-light" th:href="@{/producto/listar?order=desc}"><b>Descendente</b></a>
					<a class="btn btn-secondary text-light" th:href="@{/producto/listar}"><b>Default</b> </a>
				</div>
				<div th:if="${rol == 'Moderador'}">
					<a class="btn btn-secondary text-light" th:href="@{/moderador/productos?order=asc}"><b>Ascendente</b></a>
					<a class="btn btn-secondary text-light" th:href="@{/moderador/productos?order=desc}"><b>Descendente</b></a>
					<a class="btn btn-secondary text-light" th:href="@{/moderador/productos}"><b>Default</b> </a>
				</div>
			</div>
			<br>
		
		<table id="lista" class="text-center bg-white m-auto mt-10 text-blue-600 p-5 rounded w-9/12 mb-10">
			<thead>
				<tr>
					<th>Id</th>
					<th>Nombre</th>
					<th>Descripcion</th>
					<th>Precio</th>
					<th>Stock</th>
					<th></th>
					<th></th>
					
				</tr>
			</thead>
			<tbody>
				<tr th:each="producto: ${productos}">
					<td th:text="${producto.id}"></td>
					<td th:text="${producto.nombre}"></td>
					<td th:text="${producto.descripcion}"></td>
					<td th:text="${producto.precio}"></td>
					<td th:text="${producto.stock}"></td>
					<td th:if="${rol != 'Moderador'}"><a class="btn btn-secondary text-light" th:href="@{/producto/form/} + ${producto.id}">Edit</a></td>
					<td th:if="${rol != 'Moderador'}"><a class="btn btn-secondary text-light" th:href="@{/producto/delete/} + ${producto.id}">Del</a></td>
					<td th:if="${rol == 'Moderador'}"><a class="btn btn-secondary text-light" th:href="@{/producto/form/} + ${producto.id}">Edit</a></td>
					<td th:if="${rol == 'Moderador'}"><a class="btn btn-secondary text-light" th:href="@{/moderador/producto/delete/} + ${producto.id}">Del</a></td>
				</tr>
			</tbody>
		</table>
		<p th:text="${mensaje}" th:if="${mensaje}"></p>
</body>
<footer th:replace="views/layouts/plantilla.html :: footer"></footer>
<script th:replace="views/layouts/plantilla.html :: script"></script>
</html>